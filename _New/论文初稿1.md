## HexMap相关
- [教程目录](https://catlikecoding.com/unity/tutorials/hex-map/)

#### 简介
当今，许多的主流策略类型的游戏都在使用网格地图(HexGrid)，其中包括《奇迹时代3》、《文明6》、《无尽传奇》、《英雄无敌》等著名的3A游戏。网格地图具有生成快速、完全程序化控制、易于解析和存储等优势，相比于用传统美术等方式制作游戏地图，对移动端设备更加友好，可以大幅度减少美术资源数量，安装包更小，更容易被用户接受。
#### 1. HexMap形状
在传统的回合制游戏中，尤其是日式RPG游戏，大多使用正方形网格地图
在大多数回合策略游戏中，使用对网格地图通常有两种：正方形和正六边形。目前，越来越多的游戏已经逐渐从正方形转变到了正六边形。

为什么使用六边形的网格地图？在传统游戏中，尤其是传统的日式RPG中，大量的使用了正方形的网格地图。正方形网格相比其他形状，更容易绘制和定位。但是正方形网格也有明显的缺点，下图为一个正方形网格：
![一个正方形网格](https://catlikecoding.com/unity/tutorials/hex-map/part-1/about-hexagons/square-grid.png)
中间这个正方形网格中，一共有8个与其相邻的网格。与中间正方形网格边相邻的网格，称为水平和垂直相邻，与中间正方形网格对角相邻的网格，称为对角相邻。
从上图中可以看出，如果每个正方形网格的边长为1，那么，水平和垂直相邻的正方形网格中点之间的距离也为1.但是，对角相邻的正方形网格中点之间的距离，为$\sqrt{ 2 }$。
两种形式的相邻网格，造成了距离的差异化。在游戏中，如果一个人物在正方形网格中进行移动，这种距离的差异化将会更加明显。为了避免这种差异化，不同的游戏使用了不同的方法，也有不同的有点和缺点。其中一种方法，就是使用正六边形网格代替传统的正方形网格。
![六边形网格](https://catlikecoding.com/unity/tutorials/hex-map/part-1/about-hexagons/hexagon-grid.png)
与正方形网格相比，每个正六边形网格之间中点的距离都是相等的，这样就避免了距离的差异化。当然，使用正六边形网格也会有其他的问题，不过相对于距离差异化更容易解决。

![六边形的内外半径](https://catlikecoding.com/unity/tutorials/hex-map/part-1/about-hexagons/hexagon.png)
在开始设计正六边形网格地图之前，必须先确定每个正六边形网格的边长。如果一个正六边形网格的边长为10，那么，这个正六边形网格的外接圆半径也是10。
每个正六边形网格还有一个内切圆，根据勾股定理可以得出，其内切圆的半径为$ \frac{ \sqrt{ 3 } }{ 2 } $倍的边长，得出内切圆半径为$5\sqrt{ 3 }$。
接下来，将这两个常量保存至一个静态类中，便于访问。

```
using UnityEngine;

public static class HexMetrics 
{
	public const float outerRadius = 10f;

	public const float innerRadius = outerRadius * 0.866025404f;
}
```